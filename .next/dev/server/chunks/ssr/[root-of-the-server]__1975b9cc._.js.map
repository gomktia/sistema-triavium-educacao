{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr';\r\nimport { cookies } from 'next/headers';\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies();\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        );\r\n                    } catch {\r\n                        // Chamado de um Server Component - pode ignorar se for apenas leitura\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,iMAAO;IACjC,OAAO,IAAA,sPAAkB,sUAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,sEAAsE;gBAC1E;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/lib/auth.ts"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\r\nimport { UserRole } from '@core/types';\r\n\r\nexport interface AppUser {\r\n    id: string;\r\n    email: string;\r\n    name: string;\r\n    role: UserRole;\r\n    tenantId: string;\r\n    studentId: string | null;\r\n}\r\n\r\n/**\r\n * Obtém o usuário atual autenticado e seus metadados do banco de dados (RBAC).\r\n */\r\nexport async function getCurrentUser(): Promise<AppUser | null> {\r\n    const supabase = await createClient();\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (!user) return null;\r\n\r\n    // 1. Tentar buscar por UID (já vinculado)\r\n    let { data: dbUser } = await supabase\r\n        .from('users')\r\n        .select('id, email, name, role, tenantId, studentId, supabaseUid')\r\n        .eq('supabaseUid', user.id)\r\n        .single();\r\n\r\n    // 2. Se não encontrou por UID, tentar por Email (Primeiro acesso)\r\n    if (!dbUser) {\r\n        const { data: matchedEmail } = await supabase\r\n            .from('users')\r\n            .select('id, email, name, role, tenantId, studentId, supabaseUid')\r\n            .eq('email', user.email)\r\n            .single();\r\n\r\n        if (matchedEmail) {\r\n            // Vincular o UID do Supabase ao registro no banco\r\n            const { data: updatedUser } = await supabase\r\n                .from('users')\r\n                .update({ supabaseUid: user.id })\r\n                .eq('id', matchedEmail.id)\r\n                .select()\r\n                .single();\r\n\r\n            dbUser = updatedUser;\r\n        }\r\n    }\r\n\r\n    if (!dbUser) return null;\r\n\r\n    return {\r\n        id: dbUser.id,\r\n        email: dbUser.email,\r\n        name: dbUser.name,\r\n        role: dbUser.role as UserRole,\r\n        tenantId: dbUser.tenantId,\r\n        studentId: dbUser.studentId,\r\n    };\r\n}\r\n\r\n/**\r\n * Mapeia cada Role para sua página inicial padrão.\r\n */\r\nconst ROLE_HOME: Record<string, string> = {\r\n    STUDENT: '/minhas-forcas',\r\n    TEACHER: '/turma',\r\n    PSYCHOLOGIST: '/alunos',\r\n    COUNSELOR: '/alunos',\r\n    MANAGER: '/turma',\r\n    ADMIN: '/super-admin',\r\n};\r\n\r\nexport function getHomeForRole(role: string): string {\r\n    return ROLE_HOME[role] ?? '/';\r\n}\r\n\r\n/**\r\n * Define quais permissões são necessárias para cada grupo de rotas.\r\n */\r\nconst ROUTE_ACCESS: Record<string, string[]> = {\r\n    '/questionario': ['STUDENT'],\r\n    '/minhas-forcas': ['STUDENT'],\r\n    '/turma': ['TEACHER', 'MANAGER', 'ADMIN'],\r\n    '/alunos': ['PSYCHOLOGIST', 'COUNSELOR', 'MANAGER', 'ADMIN'],\r\n    '/intervencoes': ['PSYCHOLOGIST', 'COUNSELOR', 'MANAGER', 'ADMIN'],\r\n    '/relatorios': ['PSYCHOLOGIST', 'COUNSELOR', 'MANAGER', 'ADMIN'],\r\n    '/gestao': ['MANAGER', 'ADMIN'],\r\n    '/super-admin': ['ADMIN'],\r\n};\r\n\r\n/**\r\n * Verifica se o usuário com determinado Role pode acessar a rota.\r\n */\r\nexport function canAccessRoute(role: string, pathname: string): boolean {\r\n    const matchedRoute = Object.keys(ROUTE_ACCESS).find(\r\n        (route) => pathname === route || pathname.startsWith(route + '/')\r\n    );\r\n    if (!matchedRoute) return true; // Rotas não mapeadas são tratadas como públicas dentro do portal\r\n    return ROUTE_ACCESS[matchedRoute].includes(role);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAeO,eAAe;IAClB,MAAM,WAAW,MAAM,IAAA,gMAAY;IACnC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACtD,IAAI,CAAC,MAAM,OAAO;IAElB,0CAA0C;IAC1C,IAAI,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,SACxB,IAAI,CAAC,SACL,MAAM,CAAC,2DACP,EAAE,CAAC,eAAe,KAAK,EAAE,EACzB,MAAM;IAEX,kEAAkE;IAClE,IAAI,CAAC,QAAQ;QACT,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,SAChC,IAAI,CAAC,SACL,MAAM,CAAC,2DACP,EAAE,CAAC,SAAS,KAAK,KAAK,EACtB,MAAM;QAEX,IAAI,cAAc;YACd,kDAAkD;YAClD,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,SAC/B,IAAI,CAAC,SACL,MAAM,CAAC;gBAAE,aAAa,KAAK,EAAE;YAAC,GAC9B,EAAE,CAAC,MAAM,aAAa,EAAE,EACxB,MAAM,GACN,MAAM;YAEX,SAAS;QACb;IACJ;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,OAAO;QACH,IAAI,OAAO,EAAE;QACb,OAAO,OAAO,KAAK;QACnB,MAAM,OAAO,IAAI;QACjB,MAAM,OAAO,IAAI;QACjB,UAAU,OAAO,QAAQ;QACzB,WAAW,OAAO,SAAS;IAC/B;AACJ;AAEA;;CAEC,GACD,MAAM,YAAoC;IACtC,SAAS;IACT,SAAS;IACT,cAAc;IACd,WAAW;IACX,SAAS;IACT,OAAO;AACX;AAEO,SAAS,eAAe,IAAY;IACvC,OAAO,SAAS,CAAC,KAAK,IAAI;AAC9B;AAEA;;CAEC,GACD,MAAM,eAAyC;IAC3C,iBAAiB;QAAC;KAAU;IAC5B,kBAAkB;QAAC;KAAU;IAC7B,UAAU;QAAC;QAAW;QAAW;KAAQ;IACzC,WAAW;QAAC;QAAgB;QAAa;QAAW;KAAQ;IAC5D,iBAAiB;QAAC;QAAgB;QAAa;QAAW;KAAQ;IAClE,eAAe;QAAC;QAAgB;QAAa;QAAW;KAAQ;IAChE,WAAW;QAAC;QAAW;KAAQ;IAC/B,gBAAgB;QAAC;KAAQ;AAC7B;AAKO,SAAS,eAAe,IAAY,EAAE,QAAgB;IACzD,MAAM,eAAe,OAAO,IAAI,CAAC,cAAc,IAAI,CAC/C,CAAC,QAAU,aAAa,SAAS,SAAS,UAAU,CAAC,QAAQ;IAEjE,IAAI,CAAC,cAAc,OAAO,MAAM,iEAAiE;IACjG,OAAO,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC/C"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,6NAAO,EAAC,IAAA,oMAAI,EAAC;AACtB"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qSAAC;QACC,aAAU;QACV,WAAW,IAAA,yKAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Slot } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n        ghost: \"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 [a&]:hover:underline\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot.Root : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      data-variant={variant}\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,8NAAG,EACvB,uaACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WACE;YACF,aACE;YACF,SACE;YACF,OAAO;YACP,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,UAAU,SAAS,EACnB,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+PAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,qSAAC;QACC,aAAU;QACV,gBAAc;QACd,WAAW,IAAA,yKAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Slot } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot.Root : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,8NAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+PAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,qSAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yoda/Downloads/Sistema%20de%20Gest%C3%A3o%20Socioemocional/app/super-admin/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation';\r\nimport { createClient } from '@/lib/supabase/server';\r\nimport { getCurrentUser } from '@/lib/auth';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n    ShieldCheck,\r\n    Building2,\r\n    Users,\r\n    CreditCard,\r\n    Clock,\r\n    AlertCircle,\r\n    Settings2,\r\n    ExternalLink\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport Link from 'next/link';\r\n\r\nexport const metadata = {\r\n    title: 'Super Admin | EduInteligência SaaS',\r\n};\r\n\r\nexport default async function SuperAdminPage() {\r\n    const user = await getCurrentUser();\r\n    // Hardcoded for demo stability\r\n    const adminEmail = 'geisonhoehr@gmail.com';\r\n\r\n    if (!user || user.email !== adminEmail) {\r\n        redirect('/');\r\n    }\r\n\r\n    const supabase = await createClient();\r\n\r\n    // 1. Buscar todas as escolas (Tenants)\r\n    const { data: tenants } = await supabase\r\n        .from('tenants')\r\n        .select(`\r\n      *,\r\n      _count_users: users(count),\r\n      _count_students: students(count)\r\n    `)\r\n        .order('createdAt', { ascending: false });\r\n\r\n    // 2. Metadados Globais\r\n    const totalTenants = tenants?.length || 0;\r\n    const activeTenants = tenants?.filter(t => t.subscriptionStatus === 'active').length || 0;\r\n    const revenueMonthly = activeTenants * 987; // Ex: R$ 987,00 por escola\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 p-8\">\r\n            <div className=\"max-w-7xl mx-auto space-y-8\">\r\n                {/* Header */}\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                    <div>\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                            <div className=\"h-6 w-6 rounded-lg bg-indigo-600 flex items-center justify-center text-white\">\r\n                                <ShieldCheck size={14} />\r\n                            </div>\r\n                            <span className=\"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em]\">Painel Global</span>\r\n                        </div>\r\n                        <h1 className=\"text-4xl font-black text-slate-900 tracking-tight\">Super Admin SaaS</h1>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" className=\"border-slate-200 shadow-sm font-black text-xs uppercase\">\r\n                            Configurações Globais\r\n                        </Button>\r\n                        <Button className=\"bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100 font-black text-xs uppercase\">\r\n                            Cadastrar Nova Escola\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Estatísticas Globais */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n                    <StatCard title=\"Total Escolas\" value={totalTenants} icon={Building2} color=\"text-indigo-600\" />\r\n                    <StatCard title=\"Assinaturas Ativas\" value={activeTenants} icon={CreditCard} color=\"text-emerald-500\" />\r\n                    <StatCard title=\"Inadimplência\" value={totalTenants - activeTenants} icon={AlertCircle} color=\"text-rose-500\" />\r\n                    <StatCard title=\"MRR Estimado\" value={`R$ ${revenueMonthly.toLocaleString('pt-BR')}`} icon={Clock} color=\"text-amber-500\" />\r\n                </div>\r\n\r\n                {/* Lista de Escolas */}\r\n                <Card className=\"border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden\">\r\n                    <CardHeader className=\"bg-white border-b border-slate-100 py-6\">\r\n                        <CardTitle className=\"text-sm font-black text-slate-500 uppercase tracking-widest px-1\">Escolas Cadastradas</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"p-0\">\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-left border-collapse\">\r\n                                <thead>\r\n                                    <tr className=\"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100\">\r\n                                        <th className=\"px-6 py-4\">Escola / Tenant</th>\r\n                                        <th className=\"px-6 py-4 text-center\">Usuários</th>\r\n                                        <th className=\"px-6 py-4 text-center\">Alunos</th>\r\n                                        <th className=\"px-6 py-4\">Status</th>\r\n                                        <th className=\"px-6 py-4\">Assinatura</th>\r\n                                        <th className=\"px-6 py-4\">Criado em</th>\r\n                                        <th className=\"px-6 py-4 text-right\">Ações</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y divide-slate-50\">\r\n                                    {tenants?.map((tenant) => (\r\n                                        <tr key={tenant.id} className=\"hover:bg-slate-50/50 transition-colors group\">\r\n                                            <td className=\"px-6 py-5\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <div className=\"h-10 w-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors\">\r\n                                                        <Building2 size={20} />\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <p className=\"font-black text-slate-800 text-sm leading-none mb-1\">{tenant.name}</p>\r\n                                                        <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">{tenant.slug}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5 text-center px-1 font-black text-slate-600 text-sm\">\r\n                                                {tenant.count_users || 0}\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5 text-center px-1 font-black text-slate-600 text-sm\">\r\n                                                {tenant.count_students || 0}\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5\">\r\n                                                <Badge className={cn(\r\n                                                    \"text-[9px] font-black uppercase tracking-widest border-none shadow-none\",\r\n                                                    tenant.isActive ? \"bg-emerald-100 text-emerald-700\" : \"bg-slate-100 text-slate-500\"\r\n                                                )}>\r\n                                                    {tenant.isActive ? 'Ativo' : 'Inativo'}\r\n                                                </Badge>\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5\">\r\n                                                <div className=\"flex flex-col gap-1\">\r\n                                                    <span className={cn(\r\n                                                        \"text-[10px] font-black uppercase tracking-tighter\",\r\n                                                        tenant.subscriptionStatus === 'active' ? \"text-emerald-600\" :\r\n                                                            tenant.subscriptionStatus === 'past_due' ? \"text-amber-600\" : \"text-rose-600\"\r\n                                                    )}>\r\n                                                        {tenant.subscriptionStatus}\r\n                                                    </span>\r\n                                                    <div className=\"h-1 w-20 bg-slate-100 rounded-full\">\r\n                                                        <div className={cn(\r\n                                                            \"h-full rounded-full\",\r\n                                                            tenant.subscriptionStatus === 'active' ? \"bg-emerald-500\" : \"bg-rose-500\"\r\n                                                        )} style={{ width: tenant.subscriptionStatus === 'active' ? '100%' : '30%' }} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5 text-[11px] font-bold text-slate-500\">\r\n                                                {new Date(tenant.createdAt).toLocaleDateString('pt-BR')}\r\n                                            </td>\r\n                                            <td className=\"px-6 py-5 text-right\">\r\n                                                <div className=\"flex justify-end gap-2\">\r\n                                                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-slate-400 hover:text-indigo-600\">\r\n                                                        <Settings2 size={16} />\r\n                                                    </Button>\r\n                                                    <Link href={`/${tenant.slug}`} target=\"_blank\">\r\n                                                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-slate-400 hover:text-indigo-600 shadow-none\">\r\n                                                            <ExternalLink size={16} />\r\n                                                        </Button>\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction StatCard({ title, value, icon: Icon, color }: any) {\r\n    return (\r\n        <Card className=\"border-slate-200 shadow-sm bg-white p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div className={cn(\"h-10 w-10 rounded-xl bg-slate-50 flex items-center justify-center\", color)}>\r\n                    <Icon size={20} />\r\n                </div>\r\n            </div>\r\n            <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1\">{title}</p>\r\n            <h3 className=\"text-2xl font-black text-slate-900 tracking-tight\">{value}</h3>\r\n        </Card>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}